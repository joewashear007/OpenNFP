@using OpenNFP.Shared
<MudBadge Icon="@Icons.Material.Filled.Favorite" Color="Color.Secondary" Visible=@hasCoitus Overlap="true" >
    <MudCard Width="10em">
        <MudCardContent>
            <MudText Typo="Typo.h4" Align="Align.Center" GutterBottom="true">@displayDate</MudText>
        </MudCardContent>
    </MudCard>
</MudBadge>

@code {
    [Parameter]
    public DateTime Date { get; set; }

    public bool hasCoitus = false;
    public string displayDate = "?";

    protected override void OnParametersSet()
    {
        DayViewModel vm = FakeCycleData.Instance.Days.First(q => q.Date == Date);
        hasCoitus = vm.Coitus;
        displayDate = vm.Date.Value.Day + " | " + (vm.Date.Value - FakeCycleData.Instance.CycleStartDate).TotalDays;
    }

}
